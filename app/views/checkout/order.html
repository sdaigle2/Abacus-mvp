<link href="../../styles/checkout/order.css" rel="stylesheet" />


<div class="purchase_pending_fade">
  <!-- Google Tag Manager -->
  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5BJDWF"
                    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-5BJDWF');</script>
  <!-- End Google Tag Manager -->
</div>
<div class="purchase_pending_alertBox">Your order is being processed..</div>
<div class="order text-center">
  <!--HEADER-->
  <div class="order-header">
    <h2 class="medium" data-ng-bind="display[curStage].title"></h2>
  </div>

  <!--BODY-->
  <div class="order-body">


    <!--MAIN-->

    <!--MAIN-INFO-->
    <div class="order-left" data-ng-if="curStage === stages.INFO">
      <div class="order-form">
        <div class="order-form-header">Contact Information</div>
        <div class="order-form-label"><strong>Email Address</strong></div>
        <input class="text-input" type="email" data-ng-model="contactForm.email" />
        <div class="order-form-label"><strong>Phone Number</strong></div>
        <input class="text-input" type="text" data-ng-model="contactForm.phone" />
      </div>
      <div class="order-form">
        <div class="order-form-header">Shipping Address</div>
        <div class="order-form-label"><strong>First Name</strong></div>
        <input class="text-input" type="text" data-ng-model="shippingForm.fName" />
        <div class="order-form-label"><strong>Last Name</strong></div>
        <input class="text-input" type="text" data-ng-model="shippingForm.lName" />
        <div class="order-form-label"><strong>Street Address</strong></div>
        <input class="text-input" type="text" data-ng-model="shippingForm.addr" />
        <div class="order-form-label"><strong>Street Address 2</strong></div>
        <input class="text-input" type="text" data-ng-model="shippingForm.addr2" />
        <div class="order-form-label"><strong>City</strong></div>
        <input class="text-input" type="text" data-ng-model="shippingForm.city" />
        <div class="order-form-label"><strong>State</strong></div>
        <input class="text-input" type="text" data-ng-model="shippingForm.state" />
        <div class="order-form-label"><strong>Zipcode</strong></div>
        <input class="text-input" type="text" data-ng-model="shippingForm.zip" />
      </div>
    </div>

    <!--MAIN-PAYMENT-->
    <div class="order-left" data-ng-if="curStage === stages.PAYMENT">
      <div class="order-form">
        <div class="order-form-header">Billing Address</div>
        <div class="order-form-label"><strong>First Name</strong></div>
        <input class="text-input" type="text" data-ng-model="billingForm.fName" />
        <div class="order-form-label"><strong>Last Name</strong></div>
        <input class="text-input" type="text" data-ng-model="billingForm.lName" />
        <div class="order-form-label"><strong>Street Address</strong></div>
        <input class="text-input" type="text" data-ng-model="billingForm.addr" />
        <div class="order-form-label"><strong>Street Address 2</strong></div>
        <input class="text-input" type="text" data-ng-model="billingForm.addr2" />
        <div class="order-form-label"><strong>City</strong></div>
        <input class="text-input" type="text" data-ng-model="billingForm.city" />
        <div class="order-form-label"><strong>State</strong></div>
        <input class="text-input" type="text" data-ng-model="billingForm.state" />
        <div class="order-form-label"><strong>Zipcode</strong></div>
        <input class="text-input" type="text" data-ng-model="billingForm.zip" />
      </div>
      <div class="order-form">
        <div class="order-form-header">Optional Information</div>
        <div class="order-form-label"><strong>PO Number</strong></div>
        <input class="text-input" type="text" data-ng-model="curOrder.poNumber" />
      </div>

      <div class="order-form payment" ng-if="creditCardRequired()">
        <div class="order-form-header">Credit Card Information</div>
        <div class="paymentWindow">
          <div>
            <form>
              <span class="payment-errors" data-ng-bind="payment_errors"></span>
              <div class="form-row">
                <label>
                  <span>Card Number<br></span>
                  <input type="text" size="20" data-ng-model="card.number"/>
                </label>

                <!--<label id="cardType">-->
                  <!--<span>Card Type</span>-->
                  <!--<select id="" name="CreditCard_type" type="text"-->
                          <!--class="form-control medium" data-ng-model="card.type" name="CreditCard_type">-->
                    <!--<option value="visa">visa</option>-->
                    <!--<option value="mastercard">mastercard</option>-->
                    <!--<option value="discover">discover</option>-->
                    <!--<option value="amex">amex</option>-->

                  <!--</select>-->
                <!--</label>-->
              </div>
              <div class="form-row">
                <label>
                  <span>CVC</span>
                  <input type="text" size="4" data-ng-model="card.cvc"/>
                </label>
              </div>
              <div class="form-row">
                <label>
                  <span>Expiration (MM/YY)<br></span>
                  <input type="text" data-ng-model="card.exp_month"/>
                  <span> / </span>
                  <input type="text" data-ng-model="card.exp_year"/>
                </label>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!--MAIN-CONFIRM-->
    <div class="order-left" data-ng-if="curStage === stages.CONFIRM">
      <div class="order-form">
        <div class="order-form-header">Contact Information</div>
        <table class="order-form-table">
          <tbody>
            <tr>
              <td><strong>Email</strong></td>
              <td data-ng-bind="contactForm.email"></td>
            </tr>
            <tr>
              <td><strong>Phone Number</strong></td>
              <td data-ng-bind="contactForm.phone"></td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="order-form">
        <div class="order-form-header">Shipping Address</div>
        <table class="order-form-table">
          <tbody>
            <tr>
              <td><strong>Street Address</strong></td>
              <td data-ng-bind="shippingForm.addr"></td>
            </tr>
            <tr>
              <td><strong>Street Address 2</strong></td>
              <td data-ng-bind="shippingForm.addr2"></td>
            </tr>
            <tr>
              <td><strong>City</strong></td>
              <td data-ng-bind="shippingForm.city"></td>
            </tr>
            <tr>
              <td><strong>State</strong></td>
              <td data-ng-bind="shippingForm.state"></td>
            </tr>
            <tr>
              <td><strong>Zipcode</strong></td>
              <td data-ng-bind="shippingForm.zip"></td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="order-form">
        <div class="order-form-header">Billing Address</div>
        <table class="order-form-table">
          <tbody>
            <tr>
              <td><strong>Street Address</strong></td>
              <td data-ng-bind="billingForm.addr"></td>
            </tr>
            <tr>
              <td><strong>Street Address 2</strong></td>
              <td data-ng-bind="billingForm.addr2"></td>
            </tr>
            <tr>
              <td><strong>City</strong></td>
              <td data-ng-bind="billingForm.city"></td>
            </tr>
            <tr>
              <td><strong>State</strong></td>
              <td data-ng-bind="billingForm.state"></td>
            </tr>
            <tr>
              <td><strong>Zipcode</strong></td>
              <td data-ng-bind="billingForm.zip"></td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="order-form" ng-if="!_.isEmpty(curOrder.poNumber)">
        <div class="order-form-header">Optional Information</div>
        <table class="order-form-table">
          <tbody>
            <tr>
              <td><strong>PO Number</strong></td>
              <td data-ng-bind="curOrder.poNumber"></td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="order-form">
        <div class="order-form-header">Order Details</div>
        <table class="order-form-table">
          <tbody class="table-section" data-ng-repeat="w in wheelchairs">
            <tr class="table-seperator"></tr>
            <tr class="table-title-row">
              <td style="font-size: 15px"><strong data-ng-bind="w.getTitle()"></strong></td>
              <td data-ng-bind="getFrame(w.getFrameID()).getName()"></td>
              <td style="text-align:right;">$<span data-ng-bind="w.getTotalPrice().toFixed(2)"></span></td>
            </tr>
          </tbody>
          <tfoot>
            <tr class="table-seperator"></tr>
            <tr>
              <td><strong>Subtotal</strong></td>
              <td></td>
              <td style="text-align:right;"><strong>$<span data-ng-bind="(curOrder.getSubtotal() + totalGrantAmount).toFixed(2) "></span></strong></td>
            </tr>
            <tr>
              <td><strong>Shipping Fee</strong></td>
              <td></td>
              <td style="text-align:right;"><strong>$<span data-ng-bind="curOrder.getShippingCost().toFixed(2)"></span></strong></td>
            </tr>
            <tr>
              <td><strong>Tax</strong></td>
              <td></td>
              <td style="text-align:right;"><strong>$<span data-ng-bind="curOrder.getTaxCost().toFixed(2)"></span></strong></td>
            </tr>
            <tr>
              <td><strong>Grant Amount</strong></td>
              <td></td>
              <td style="text-align:right;"><strong>-$<span data-ng-bind="totalGrantAmount.toFixed(2)"></span></strong></td>
            </tr>
            <tr>
              <td><strong>Discount</strong></td>
              <td></td>
              <td style="text-align:right;"><strong><span data-ng-bind="((1-curOrder.getDiscountAmount())*100).toFixed(0)"></span>%</strong></td>
            </tr>

            <tr style="border-top:solid 1px #DDDDDD;">
              <td><strong>Total</strong></td>
              <td></td>
              <td style="text-align:right;"><strong>$<span data-ng-bind="curOrder.getTotalCost().toFixed(2)"></span></strong></td>
            </tr>
          </tfoot>
        </table>
      </div>
      <div class="order-form">
        <div class="order-form-header">Terms & Conditions</div>
        <div class="order-form-label">You must agree to Abacus Terms and Conditions before completing your order:</div>
        <div class="order-form-well" data-ng-bind-html="termsAndConditionsHTML"> </div>
        <input type="checkbox" data-ng-model="termsForm.hasReadTerms" />
        <strong>I have read and agree to the Terms and Conditions</strong>
      </div>
    </div>

    <!--MAIN-COMPLETE-->
    <div class="order-left" data-ng-if="curStage === stages.COMPLETE">
      <div class="order-form">
        <div class="order-form-label"><strong>Your order number is: <span data-ng-bind="orderNum"></span></strong></div>
        <br />
        <div class="order-form-label">Thank you for your order!</div>
        <div class="order-form-label">Your order has been sent to the manufacturer.</div>
        <div class="order-form-label">You will receive an invoice email shortly.</div>
      </div>
    </div>


    <!--SIDEBAR-->
    <div class="order-right">
      <div class="progress-bar-label book">
        <span data-ng-style="(curStage === stages.INFO) && {'color':'#000'}">1 </span>
        <span data-ng-style="(curStage === stages.PAYMENT) && {'color':'#000'}">2 </span>
        <span data-ng-style="(curStage === stages.CONFIRM) && {'color':'#000'}">3 </span>
        <span data-ng-style="(curStage === stages.COMPLETE) && {'color':'#000'}">4</span>
      </div>
      <div class="order-progressbar">
        <div class="progress">
          <div class="progress-bar" role="progressbar"
               aria-valuenow="{{25 * (curStage+1)}}" aria-valuemin="0" aria-valuemax="100"
               data-ng-style="{'width': (25*(curStage+1)) + '%' }">
          </div>
        </div>
        <img width="28" height="auto" src="images/checkout/progress_bar_image.png"
             data-ng-style="{'left': 23+(71*curStage) + 'px' }" alt="Progress bar">
      </div>
      <div class="progress-bar-label-text book">
        <span data-ng-style="(curStage === stages.INFO) && {'color':'#000'}">info</span>
        <span data-ng-style="(curStage === stages.PAYMENT) && {'color':'#000'}">payment</span>
        <span data-ng-style="(curStage === stages.CONFIRM) && {'color':'#000'}">confirm</span>
        <span data-ng-style="(curStage === stages.COMPLETE) && {'color':'#000'}">complete</span>
      </div>
      <div class="order-buttonrow">
        <div class="order-button order-button-light medium"
             data-ng-if="curStage !== stages.COMPLETE"
             data-ng-click="back()">&lt GO BACK</div>
        <div class="order-button medium"
             ng-disabled="completeClicked"
             data-ng-style="(curStage === stages.COMPLETE) && {'width': '80%'}"
             data-ng-click="!completeClicked && next()" data-ng-bind="display[curStage].button"
              data-ng-if="curStage !== stages.COMPLETE || loggedIn"></div>
        <div class="order-button medium"
             data-ng-show="curStage === stages.COMPLETE && !loggedIn"
             data-ng-style="(curStage === stages.COMPLETE) && {'width': '80%'}"
             data-ng-click="register()">Register</div>
      </div>
    </div>
  </div>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-64294275-1', 'auto');
  ga('send', 'pageview');

</script>
